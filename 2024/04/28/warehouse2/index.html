<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="x5-fullscreen" content="true">
<meta name="full-screen" content="yes">
<meta name="theme-color" content="#317EFB" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" name="viewport">
<meta name="description" content="商品列表实体类12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.pn.entity;import java.math">
<meta property="og:type" content="article">
<meta property="og:title" content="动力恒合仓库项目2">
<meta property="og:url" content="https://right-l.github.io/2024/04/28/warehouse2/index.html">
<meta property="og:site_name" content="沈池の博客">
<meta property="og:description" content="商品列表实体类12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.pn.entity;import java.math">
<meta property="og:locale">
<meta property="article:published_time" content="2024-04-28T14:09:58.722Z">
<meta property="article:modified_time" content="2024-04-28T14:10:18.201Z">
<meta property="article:author" content="Right_L">
<meta name="twitter:card" content="summary">


<title >动力恒合仓库项目2</title>

<!-- Favicon -->

    <link href='/log.svg?v=2.1.10' rel='icon' type='image/png' sizes='16x16' ></link>


    <link href='/log.svg?v=2.1.10' rel='icon' type='image/png' sizes='32x32' ></link>


    <link href='/log.svg?v=2.1.10' rel='apple-touch-icon' sizes='180x180' ></link>



<!-- Plugin -->




    
<link rel="stylesheet" href="/css/plugins/bootstrap.row.css">

    
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css">

    
    




<!-- Icon -->

    
<link rel="stylesheet" href="/css/plugins/font-awesome.min.css">




<!-- Variable -->
<script>window.ASYNC_CONFIG = {"hostname":"right-l.github.io","author":"Right_L","root":"/","typed_text":["戒骄戒躁"],"theme_version":"2.1.10","theme":{"switch":true,"default":"style-light"},"favicon":{"logo":"log.svg","icon16":"log.svg","icon32":"log.svg","appleTouchIcon":"log.svg","webmanifest":null,"visibilitychange":true,"hidden":"failure.ico","showText":"回来噜","hideText":"离开噜"},"i18n":{"placeholder":"搜索文章...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）","author":"本文作者：","copyright_link":"本文链接：","copyright_license_title":"版权声明：","copyright_license_content":"本博客所有文章除特别声明外，均默认采用 undefined 许可协议。","copy_success":"复制成功","copy_failure":"复制失败","open_read_mode":"进入阅读模式","exit_read_mode":"退出阅读模式","notice_outdate_message":"距离上次更新已经 undefined 天了, 文章内容可能已经过时。","sticky":"置顶","just":"刚刚","min":"分钟前","hour":"小时前","day":"天前","month":"个月前"},"swup":false,"plugin":{"flickr_justified_gallery":"https://unpkg.com/flickr-justified-gallery@latest/dist/fjGallery.min.js"},"icons":{"sun":"far fa-sun","moon":"far fa-moon","play":"fas fa-play","email":"far fa-envelope","next":"fas fa-arrow-right","calendar":"far fa-calendar-alt","clock":"far fa-clock","user":"far fa-user","back_top":"fas fa-arrow-up","close":"fas fa-times","search":"fas fa-search","reward":"fas fa-hand-holding-usd","user_tag":"fas fa-user-alt","toc_tag":"fas fa-th-list","read":"fas fa-book-reader","arrows":"fas fa-arrows-alt-h","double_arrows":"fas fa-angle-double-down","copy":"fas fa-copy"},"icontype":"font","highlight":{"plugin":"highlighjs","theme":true,"copy":true,"lang":false,"title":"default","height_limit":200},"toc":{"post_title":true},"live_time":{"start_time":"03/2/2024 17:00:00","prefix":"BLOG已运行 undefined 天"},"search":{"enable":true,"type":"local","href":"https://www.google.com/search?q=site:","domain":null,"path":"search.xml"}};</script>
<script id="async-page-config">window.PAGE_CONFIG = {"isPost":true,"isHome":false,"postUpdate":"2024-04-28 22:10:18"};</script>

<!-- Theme mode css -->
<link data-swup-theme rel="stylesheet" href="/css/index.css?v=2.1.10" id="trm-switch-style">
<script>
    let defaultMode = ASYNC_CONFIG.theme.default !=='auto' ?  ASYNC_CONFIG.theme.default : (window.matchMedia("(prefers-color-scheme: light)").matches ? 'style-light' : 'style-dark')
    let catchMode = localStorage.getItem('theme-mode') || defaultMode;
    let type = catchMode === 'style-dark' ? 'add' : 'remove';
    document.documentElement.classList[type]('dark')
</script>

<!-- CDN -->


    
    



<!-- Site Analytics -->
 
<meta name="generator" content="Hexo 7.1.1"></head>

<body>

  <!-- app wrapper -->
  <div class="trm-app-frame">

    <!-- page preloader -->
    <div class="trm-preloader">
    <div class="trm-holder">
        <div class="preloader">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <!-- page preloader end -->

    <!-- change mode preloader -->
    <div class="trm-mode-swich-animation-frame">
    <div class="trm-mode-swich-animation">
        <i class="i-sun"><i class="iconfont far fa-sun"></i></i>
        <div class="trm-horizon"></div>
        <i class="i-moon"><i class="iconfont far fa-moon"></i></i>
    </div>
</div>
    <!-- change mode preloader end -->

      <!-- scroll container -->
      <div id="trm-dynamic-content" class="trm-swup-animation">
        <div id="trm-scroll-container" class="trm-scroll-container" style="opacity: 0">
            <!-- top bar -->
            <header class="trm-top-bar">
	<div class="container">
		<div class="trm-left-side">
			<!-- logo -->
<a href="/" class="trm-logo-frame trm-anima-link">
    
        <img alt="logo" src="/log.svg">
    
    
        <div class="trm-logo-text">
            Right<span>L</span>
        </div>
    
</a>
<!-- logo end -->
		</div>
		<div class="trm-right-side">
			<!-- menu -->
<div class="trm-menu">
    <nav>
        <ul>
            
            <li class="menu-item-has-children ">
                <a  href="/" target="">
                    首页
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/archives/" target="">
                    归档
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/categories/" target="">
                    分类
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/about/" target="">
                    关于
                </a>
                
            </li>
            
        </ul>
    </nav>
</div>
<!-- menu end -->
			
    <!-- mode switcher place -->
    <div class="trm-mode-switcher-place">
        <div class="trm-mode-switcher">
            <i class="iconfont far fa-sun"></i>
            <input class="tgl tgl-light" id="trm-swich" type="checkbox">
            <label class="trm-swich" for="trm-swich"></label>
            <i class="iconfont far fa-moon"></i>
        </div>
    </div>
    <!-- mode switcher place end -->

			
    
    <div id="trm-search-btn" class="trm-search-btn">
        <i class="iconfont fas fa-search"></i>
    </div>
     

		</div>
		<div class="trm-menu-btn">
			<span></span>
		</div>
	</div>
</header>
            <!-- top bar end -->

            <!-- body -->
            
<div class="trm-content-start">
    <!-- banner -->
    <div class="trm-banner">
    
    <!-- banner cover -->
    <img style="object-position:top;object-fit:cover;" alt="banner" class="trm-banner-cover" src="/img/banner.png">
    <!-- banner cover end -->
    

    <!-- banner content -->
    <div class="trm-banner-content trm-overlay">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-12">

                    <!-- banner title -->
                    <div class="trm-banner-text trm-text-center ">
                        <div class="trm-label trm-mb-20">
                            NEWS LETTER
                        </div>
                        <h1 class="trm-mb-30 trm-hsmb-font">
                            动力恒合仓库项目2
                        </h1>

                        
                            <ul class="trm-breadcrumbs trm-label">
                                <li>
                                    <a href="/" class="trm-anima-link">Home</a>
                                </li>
                                <li>
                                    <span>
                                        2024
                                    </span>
                                </li>
                            </ul>
                        
                    </div>
                    <!-- banner title end -->

                    <!-- scroll hint -->
                    <span id="scroll-triger" class="trm-scroll-hint-frame">
                        <div class="trm-scroll-hint"></div>
                        <span class="trm-label">Scroll down</span>
                    </span>
                    <!-- scroll hint end -->

                </div>
            </div>
        </div>
    </div>
    <!-- banner content end -->
</div>
    <!-- banner end -->
    <div class="container">
        <div class="row">
            
            <div class="trm-page-content col-lg-12">
                <div id="trm-content" class="trm-content">
                    <div class="trm-post-info row hidden-sm">
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-calendar-alt trm-icon"></i><br>
            04/28
        </div>
    </div>
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-clock trm-icon"></i><br>
            22:09
        </div>
    </div>
    <div class="col-sm-4">
        <div id="post-author" class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-user trm-icon"></i><br>
            Right_L
        </div>
    </div>
</div>
<div class="trm-card ">
    <article id="article-container" class="trm-publication">
    <h1 id="商品列表"><a href="#商品列表" class="headerlink" title="商品列表"></a>商品列表</h1><h2 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonFormat;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 商品表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer productId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer storeId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer brandId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String productName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String productNum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer productInvent;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer typeId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer supplyId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer placeId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer unitId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String introduce;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 0 下架 1 上架</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> String upDownState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BigDecimal inPrice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BigDecimal salePrice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BigDecimal memPrice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer createBy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer updateBy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String imgs;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Date productDate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Date suppDate;</span><br><span class="line"><span class="comment">//    =======追加属性=======</span></span><br><span class="line"><span class="comment">//    品牌名称</span></span><br><span class="line">    <span class="keyword">private</span> String brandName;</span><br><span class="line"><span class="comment">//    供应商</span></span><br><span class="line">    <span class="keyword">private</span> String supplyName;</span><br><span class="line"><span class="comment">//    地名</span></span><br><span class="line">    <span class="keyword">private</span> String placeName;</span><br><span class="line"><span class="comment">//    分类名称</span></span><br><span class="line">    <span class="keyword">private</span> String typeName;</span><br><span class="line"><span class="comment">//    是否过期</span></span><br><span class="line">    <span class="keyword">private</span> Integer isOverDate;</span><br><span class="line"><span class="comment">//    仓库名称</span></span><br><span class="line">    <span class="keyword">private</span> String storeName;</span><br><span class="line"><span class="comment">//    单位</span></span><br><span class="line">    <span class="keyword">private</span> String unitName;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="mapper类"><a href="#mapper类" class="headerlink" title="mapper类"></a>mapper类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.Product;</span><br><span class="line"><span class="keyword">import</span> com.pn.page.Page;</span><br><span class="line"><span class="keyword">import</span> io.lettuce.core.dynamic.annotation.Param;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductMapper</span> &#123;</span><br><span class="line"><span class="comment">//    查询商品行数</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">findProductRowCount</span><span class="params">(Product product)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    分页查询商品方法</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Product&gt; <span class="title function_">findProductPage</span><span class="params">(<span class="meta">@Param(&quot;page&quot;)</span> Page page,<span class="meta">@Param(&quot;product&quot;)</span> Product product)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.pn.mapper.ProductMapper&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  //    查询商品行数--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public Integer findProductRowCount(Product product);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findProductRowCount&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;integer&quot;</span>&gt;</span></span><br><span class="line">  select count(*)</span><br><span class="line">  from product t1,brand t2,product_type t3,supply t4,place t5</span><br><span class="line">  where t1.brand_id=t2.brand_id and t1.type_id=t3.type_id and t1.supply_id=t4.supply_id and t1.place_id=t5.place_id</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;storeId != null&quot;</span>&gt;</span></span><br><span class="line">    and t1.store_id = #&#123;storeId&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;productName != null and productName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t1.product_name like concat(&#x27;%&#x27;,#&#123;productName&#125;,&#x27;%&#x27;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brandName!= null and brandName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t2.brand_name like concat(&#x27;%&#x27;, #&#123;brandName&#125;, &#x27;%&#x27;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;typeName != null and typeName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t3.type_name like concat(&#x27;%&#x27;, #&#123;typeName&#125;, &#x27;%&#x27;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;supplyName != null and supplyName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t4.supply_name like concat(&#x27;%&#x27;, #&#123;supplyName&#125;, &#x27;%&#x27;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;placeName != null and placeName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t5.place_name like concat(&#x27;%&#x27;, #&#123;placeName&#125;, &#x27;%&#x27;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;upDownState != null and upDownState != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">    and t1.up_down_state = #&#123;upDownState&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;isOverDate==1&quot;</span>&gt;</span></span><br><span class="line">    and t1.supp_date <span class="symbol">&amp;lt;</span>=now()</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;isOverDate==0&quot;</span>&gt;</span></span><br><span class="line">    and t1.supp_date <span class="symbol">&amp;gt;</span>now()</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  //    分页查询商品方法--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public List&lt;Product&gt; findProductPage(@Param(&quot;page&quot;) Page page,@Param(&quot;product&quot;) Product product);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findProductPage&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">    select t1.*, t2.brand_name brandName, t3.type_name typeName,t4.supply_name supplyName,</span><br><span class="line">           t5.place_name placeName, t6.unit_name unitName,t7.store_name storeName</span><br><span class="line">    from product t1,brand t2,product_type t3,supply t4,place t5,unit t6,store t7</span><br><span class="line">    where t1.brand_id=t2.brand_id and t1.type_id=t3.type_id and t1.supply_id=t4.supply_id and t1.place_id=t5.place_id</span><br><span class="line">      and t1.unit_id=t6.unit_id and t1.store_id=t7.store_id</span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.storeId != null&quot;</span>&gt;</span></span><br><span class="line">      and t1.store_id = #&#123;product.storeId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.productName != null and product.productName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t1.product_name like concat(&#x27;%&#x27;,#&#123;product.productName&#125;,&#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.brandName!= null and product.brandName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t2.brand_name like concat(&#x27;%&#x27;, #&#123;product.brandName&#125;, &#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.typeName != null and product.typeName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t3.type_name like concat(&#x27;%&#x27;, #&#123;product.typeName&#125;, &#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.supplyName != null and product.supplyName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t4.supply_name like concat(&#x27;%&#x27;, #&#123;product.supplyName&#125;, &#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.placeName != null and product.placeName != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t5.place_name like concat(&#x27;%&#x27;, #&#123;placeName&#125;, &#x27;%&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.upDownState != null and product.upDownState != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      and t1.up_down_state = #&#123;product.upDownState&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.isOverDate==1&quot;</span>&gt;</span></span><br><span class="line">      and t1.supp_date <span class="symbol">&amp;lt;</span>=now()</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;product.isOverDate==0&quot;</span>&gt;</span></span><br><span class="line">      and t1.supp_date <span class="symbol">&amp;gt;</span>now()</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    order by t1.create_time desc</span><br><span class="line">    limit #&#123;page.limitIndex&#125;, #&#123;page.pageSize&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类"><a href="#service类" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.Product;</span><br><span class="line"><span class="keyword">import</span> com.pn.page.Page;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line"><span class="comment">//    分页查询所有商品</span></span><br><span class="line">    <span class="keyword">public</span> Page <span class="title function_">queryProductPage</span><span class="params">(Page page, Product product)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.Product;</span><br><span class="line"><span class="keyword">import</span> com.pn.page.Page;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.mapper.ProductMapper;</span><br><span class="line"><span class="keyword">import</span> com.pn.service.ProductService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductMapper productMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    分页查询所有商品</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Page <span class="title function_">queryProductPage</span><span class="params">(Page page, Product product)</span> &#123;</span><br><span class="line"><span class="comment">//        查询行数</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> productMapper.findProductRowCount(product);</span><br><span class="line">        List&lt;Product&gt; productPage = productMapper.findProductPage(page, product);</span><br><span class="line">        page.setTotalNum(count);</span><br><span class="line">        page.setResultList(productPage);</span><br><span class="line">        <span class="keyword">return</span> page;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类"><a href="#控制类" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductService productService;</span><br><span class="line"><span class="comment">//    分页查询所有商品</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;product-page-list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">productListPage</span><span class="params">(Page page, Product product)</span>&#123;</span><br><span class="line">        page = productService.queryProductPage(page, product);</span><br><span class="line">        <span class="keyword">return</span> Result.ok(page);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="修改过滤器"><a href="#修改过滤器" class="headerlink" title="修改过滤器"></a>修改过滤器</h2><blockquote>
<p>图片要显示出来，所有过滤要添加白名单</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      <span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> request.getServletPath();</span><br><span class="line"><span class="comment">//判断</span></span><br><span class="line">        <span class="keyword">if</span>(urlList.contains(servletPath)||servletPath.contains(<span class="string">&quot;/img/upload&quot;</span>))&#123;</span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h1 id="查看商品类别"><a href="#查看商品类别" class="headerlink" title="查看商品类别"></a>查看商品类别</h1><h2 id="实体类-1"><a href="#实体类-1" class="headerlink" title="实体类"></a>实体类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 商品分类表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductType</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer typeId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer parentId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String typeCode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String typeName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String typeDesc;</span><br><span class="line"><span class="comment">//    追加</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;ProductType&gt; ChildProductCategory;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="mapper映射"><a href="#mapper映射" class="headerlink" title="mapper映射"></a>mapper映射</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.ProductType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductTypeMapper</span> &#123;</span><br><span class="line"><span class="comment">//    查询商品分类</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ProductType&gt; <span class="title function_">findAllProductType</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.pn.mapper.ProductTypeMapper&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  //    查询商品分类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public List&lt;ProductType&gt; findAllProductType();--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAllProductType&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;productType&quot;</span>&gt;</span></span><br><span class="line">    select * from product_type</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类-1"><a href="#service类-1" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.ProductType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductTypeService</span>&#123;</span><br><span class="line"><span class="comment">//    查询所有商品的分类树</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ProductType&gt; <span class="title function_">productTypeTree</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pn.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.entity.ProductType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cache.annotation.CacheConfig;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cache.annotation.Cacheable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.pn.mapper.ProductTypeMapper;</span><br><span class="line"><span class="keyword">import</span> com.pn.service.ProductTypeService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="meta">@CacheConfig(cacheNames = &quot;com.pn.service.impl.ProductTypeServiceImpl&quot;)</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductTypeServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">ProductTypeService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductTypeMapper productTypeMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    查询所有商品的分类树</span></span><br><span class="line">    <span class="meta">@Cacheable(key = &quot;&#x27;all:typeTree&#x27;&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ProductType&gt; <span class="title function_">productTypeTree</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;ProductType&gt; productTypeList = productTypeMapper.findAllProductType();</span><br><span class="line">        List&lt;ProductType&gt; productTree = allTypeToTypeTree(productTypeList, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> productTree;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将查询到的所有商品分类List&lt;ProductType&gt;转成商品分类树List&lt;ProductType&gt;的算法</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;ProductType&gt; <span class="title function_">allTypeToTypeTree</span><span class="params">(List&lt;ProductType&gt; allTypeList,</span></span><br><span class="line"><span class="params">                                                Integer parentId)</span>&#123;</span><br><span class="line"><span class="comment">//一级</span></span><br><span class="line">        List&lt;ProductType&gt; typeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (ProductType productType : allTypeList) &#123;</span><br><span class="line">            <span class="keyword">if</span>(productType.getParentId().equals(parentId))&#123;</span><br><span class="line">                typeList.add(productType);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (ProductType productType : typeList) &#123;</span><br><span class="line">            List&lt;ProductType&gt; childTypeList =</span><br><span class="line">                    allTypeToTypeTree(allTypeList, productType.getTypeId());</span><br><span class="line">            productType.setChildProductCategory(childTypeList);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> typeList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类-1"><a href="#控制类-1" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    查询所有商品分类树</span></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ProductTypeService productTypeService;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/category-tree&quot;)</span></span><br><span class="line"><span class="keyword">public</span>  Result <span class="title function_">loadProductTree</span><span class="params">()</span>&#123;</span><br><span class="line">    List&lt;ProductType&gt; typeTreeList = productTypeService.productTypeTree();</span><br><span class="line">    <span class="keyword">return</span> Result.ok(typeTreeList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="商品的图片上传"><a href="#商品的图片上传" class="headerlink" title="商品的图片上传"></a>商品的图片上传</h1><h2 id="控制类-2"><a href="#控制类-2" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 将配置文件的file.upload-path属性值注入给控制器的uploadPath属性,</span></span><br><span class="line"><span class="comment">    * 其为图片上传到项目的目录路径(类路径classes即resources下的static/img/upload);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Value(&quot;$&#123;file.upload-path&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">private</span> String uploadPath;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 上传图片的url接口/product/img-upload</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 参数MultipartFile file对象封装了上传的图片;</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@CrossOrigin</span>表示该url接口允许跨域请求;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@CrossOrigin</span></span><br><span class="line">   <span class="meta">@PostMapping(&quot;/img-upload&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">uploadImg</span><span class="params">(MultipartFile file)</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">//拿到图片上传到的目录(类路径classes下的static/img/upload)的File对象</span></span><br><span class="line">           <span class="type">File</span> <span class="variable">uploadDirFile</span> <span class="operator">=</span> ResourceUtils.getFile(uploadPath);</span><br><span class="line">           <span class="comment">//拿到图片上传到的目录的磁盘路径</span></span><br><span class="line">           <span class="type">String</span> <span class="variable">uploadDirPath</span> <span class="operator">=</span> uploadDirFile.getAbsolutePath();</span><br><span class="line">           <span class="comment">//拿到图片保存到的磁盘路径</span></span><br><span class="line">           <span class="type">String</span> <span class="variable">fileUploadPath</span> <span class="operator">=</span> uploadDirPath + <span class="string">&quot;\\&quot;</span> + file.getOriginalFilename();</span><br><span class="line">           <span class="comment">//保存图片</span></span><br><span class="line">           file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(fileUploadPath));</span><br><span class="line">           <span class="comment">//成功响应</span></span><br><span class="line">           <span class="keyword">return</span> Result.ok(<span class="string">&quot;图片上传成功！&quot;</span>);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           <span class="comment">//失败响应</span></span><br><span class="line">           <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS, <span class="string">&quot;图片上传失败！&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h1 id="商品添加"><a href="#商品添加" class="headerlink" title="商品添加"></a>商品添加</h1><h2 id="mapper映射-1"><a href="#mapper映射-1" class="headerlink" title="mapper映射"></a>mapper映射</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  根据型号查询商品是否存在</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">findProductByNum</span><span class="params">(String productNum)</span>;</span><br><span class="line"><span class="comment">//    商品添加</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insertProduct</span><span class="params">(Product product)</span>;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  //  根据型号查询商品是否存在--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public Product findProductByNum(String productNum);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findProductByNum&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;product&quot;</span>&gt;</span></span><br><span class="line">    select * from product where product_num=#&#123;productNum&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  //    商品添加--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int insertProduct(Product product);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertProduct&quot;</span>&gt;</span></span><br><span class="line">    insert into product values (</span><br><span class="line">    null, #&#123;storeId&#125;, #&#123;brandId&#125;, #&#123;productName&#125;, #&#123;productNum&#125;,</span><br><span class="line">    #&#123;productInvent&#125;, #&#123;typeId&#125;, #&#123;supplyId&#125;, #&#123;placeId&#125;, #&#123;unitId&#125;,</span><br><span class="line">    #&#123;introduce&#125;, 0, #&#123;inPrice&#125;, #&#123;salePrice&#125;, #&#123;memPrice&#125;, now(),</span><br><span class="line">    null, #&#123;createBy&#125;, null, #&#123;imgs&#125;, #&#123;productDate&#125;, #&#123;suppDate&#125;</span><br><span class="line">    )</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类-2"><a href="#service类-2" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加商品</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">savaProduct</span><span class="params">(Product product)</span>;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Value(&quot;$&#123;file.access-path&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String fileAccessPath;</span><br><span class="line">    <span class="comment">//添加商品</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">savaProduct</span><span class="params">(Product product)</span> &#123;</span><br><span class="line">        <span class="comment">//        先判断是否存在相同的商品编号</span></span><br><span class="line">        <span class="type">Product</span> <span class="variable">productByNum</span> <span class="operator">=</span> productMapper.findProductByNum(product.getProductNum());</span><br><span class="line">        <span class="keyword">if</span>(productByNum!=<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="comment">//            已经存在</span></span><br><span class="line">            <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS,<span class="string">&quot;商品已经存在&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        图片路径拼接一下类路径</span></span><br><span class="line">        product.setImgs(fileAccessPath + product.getImgs());</span><br><span class="line"><span class="comment">//        添加商品</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> productMapper.insertProduct(product);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;插入商品成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS,<span class="string">&quot;商品插入失败&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类-3"><a href="#控制类-3" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TokenUtils tokenUtils;</span><br><span class="line"><span class="comment">//    商品添加</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/product-add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addProduct</span><span class="params">(<span class="meta">@RequestBody</span> Product product, <span class="meta">@RequestHeader(WarehouseConstants.HEADER_TOKEN_NAME)</span> String token)</span>&#123;</span><br><span class="line"><span class="comment">//        获取到当前用户的id</span></span><br><span class="line">        <span class="type">CurrentUser</span> <span class="variable">currentUser</span> <span class="operator">=</span> tokenUtils.getCurrentUser(token);</span><br><span class="line">        <span class="type">int</span> <span class="variable">createUserId</span> <span class="operator">=</span> currentUser.getUserId();</span><br><span class="line">        product.setCreateBy(createUserId);</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productService.savaProduct(product);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>商品的上架、删除（单个、批量）跟之前用户是一样的，不再赘述</p>
</blockquote>
<h1 id="商品的修改"><a href="#商品的修改" class="headerlink" title="商品的修改"></a>商品的修改</h1><h2 id="mapper映射-2"><a href="#mapper映射-2" class="headerlink" title="mapper映射"></a>mapper映射</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据商品id修改商品的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updateProductById</span><span class="params">(Product product)</span>;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  //根据商品id修改商品的方法--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int updateProductById(Product product);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateProductById&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--商品上下架状态、创建时间、创建者字段值不用改--&gt;</span></span><br><span class="line">    update product set store_id = #&#123;storeId&#125;, brand_id = #&#123;brandId&#125;,</span><br><span class="line">    product_name = #&#123;productName&#125;, product_num = #&#123;productNum&#125;,</span><br><span class="line">    product_invent = #&#123;productInvent&#125;, type_id = #&#123;typeId&#125;,</span><br><span class="line">    supply_id = #&#123;supplyId&#125;, place_id = #&#123;placeId&#125;, unit_id = #&#123;unitId&#125;,</span><br><span class="line">    introduce = #&#123;introduce&#125;, in_price = #&#123;inPrice&#125;, sale_price = #&#123;salePrice&#125;,</span><br><span class="line">    mem_price = #&#123;memPrice&#125;, update_time = now(), update_by = #&#123;updateBy&#125;,</span><br><span class="line">    imgs = #&#123;imgs&#125;, product_date = #&#123;productDate&#125;, supp_date = #&#123;suppDate&#125;</span><br><span class="line">    where product_id = #&#123;productId&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类-3"><a href="#service类-3" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改商品的业务方法</span></span><br><span class="line"> <span class="keyword">public</span> Result <span class="title function_">updateProduct</span><span class="params">(Product product)</span>;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Value(&quot;$&#123;file.access-path&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessPath;</span><br><span class="line">    <span class="comment">//修改商品的业务方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateProduct</span><span class="params">(Product product)</span> &#123;</span><br><span class="line"><span class="comment">//        先判断是否修改了存在的型号（不包括本身自己，如果是本身自己表示没改型号）</span></span><br><span class="line">        <span class="type">Product</span> <span class="variable">productByNum</span> <span class="operator">=</span> productMapper.findProductByNum(product.getProductNum());</span><br><span class="line">        <span class="keyword">if</span>(productByNum!=<span class="literal">null</span> &amp;&amp; !productByNum.getProductId().equals(product.getProductId()))&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS,<span class="string">&quot;你修改的型号已存在！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">          处理商品上传的图片的访问地址:</span></span><br><span class="line"><span class="comment">          如果product对象的imgs属性值没有以/img/upload/开始,说明商品的图片</span></span><br><span class="line"><span class="comment">          被修改了即上传了新的图片,那么product对象的imgs属性值只是图片的名称,</span></span><br><span class="line"><span class="comment">          则给图片名称前拼接/img/upload构成商品新上传的图片的访问地址;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span>(!product.getImgs().startsWith(accessPath))&#123;</span><br><span class="line">            product.setImgs(accessPath+product.getImgs());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//根据商品id修改商品信息</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> productMapper.updateProductById(product);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;商品修改成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS,<span class="string">&quot;商品修改失败！&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类-4"><a href="#控制类-4" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    修改商品</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/product-update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateProduct</span><span class="params">(<span class="meta">@RequestBody</span> Product product,<span class="meta">@RequestHeader(WarehouseConstants.HEADER_TOKEN_NAME)</span> String token)</span>&#123;</span><br><span class="line">        <span class="comment">//        获取到当前用户的id</span></span><br><span class="line">        <span class="type">CurrentUser</span> <span class="variable">currentUser</span> <span class="operator">=</span> tokenUtils.getCurrentUser(token);</span><br><span class="line">        <span class="type">int</span> <span class="variable">uptateUserId</span> <span class="operator">=</span> currentUser.getUserId();</span><br><span class="line">        product.setUpdateBy(uptateUserId);</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productService.updateProduct(product);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="采购"><a href="#采购" class="headerlink" title="采购"></a>采购</h1><h2 id="mapper映射-3"><a href="#mapper映射-3" class="headerlink" title="mapper映射"></a>mapper映射</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加采购单</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insertPurchase</span><span class="params">(Purchase purchase)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  //添加采购单--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int insertPurchase(Purchase purchase);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertPurchase&quot;</span>&gt;</span></span><br><span class="line">    insert into buy_list values(</span><br><span class="line">    null, #&#123;productId&#125;, #&#123;storeId&#125;, #&#123;buyNum&#125;, null, now(),</span><br><span class="line">    #&#123;supplyId&#125;, #&#123;placeId&#125;, #&#123;buyUser&#125;, #&#123;phone&#125;, 0</span><br><span class="line">    )</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类-4"><a href="#service类-4" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加采购单</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">savePurchase</span><span class="params">(Purchase purchase)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PurchaseMapper purchaseMapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    添加采购单</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">savePurchase</span><span class="params">(Purchase purchase)</span> &#123;</span><br><span class="line">        purchase.setFactBuyNum(purchase.getBuyNum());</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> purchaseMapper.insertPurchase(purchase);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;采购单添加成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS, <span class="string">&quot;采购单添加失败！&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类-5"><a href="#控制类-5" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PurchaseService purchaseService;</span><br><span class="line"><span class="comment">//    添加采购单</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/purchase-add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addPurchase</span><span class="params">(<span class="meta">@RequestBody</span> Purchase purchase)</span>&#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> purchaseService.savePurchase(purchase);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>还有一个出库操作，也是一样的。</p>
<p>其中采购和出库都会跳转到对应的采购管理和出库管理，到里面进行详细的操作之后才会对商品列表中库存的数量造成改变。</p>
</blockquote>
<h1 id="商品分类-添加-删除-修改"><a href="#商品分类-添加-删除-修改" class="headerlink" title="商品分类-添加&#x2F;删除&#x2F;修改"></a>商品分类-添加&#x2F;删除&#x2F;修改</h1><h2 id="mapper映射-4"><a href="#mapper映射-4" class="headerlink" title="mapper映射"></a>mapper映射</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//根据分类编码查询商品分类</span></span><br><span class="line">    <span class="keyword">public</span> ProductType <span class="title function_">findTypeByCode</span><span class="params">(String typeCode)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    添加商品分类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insertProductType</span><span class="params">(ProductType productType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    根据父级id或者子级id删除分类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeProductType</span><span class="params">(Integer typeId)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    修改分类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updateProductType</span><span class="params">(ProductType productType)</span>;</span><br></pre></td></tr></table></figure>

<p>实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  //根据分类编码查询商品分类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public ProductType findTypeByCode(String typeCode);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findTypeByCode&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.pn.entity.ProductType&quot;</span>&gt;</span></span><br><span class="line">    select * from product_type where type_code = #&#123;typeCode&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  //    添加商品分类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int insertProductType(ProductType productType);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertProductType&quot;</span>&gt;</span></span><br><span class="line">    insert into product_type values(</span><br><span class="line">    null, #&#123;parentId&#125;, #&#123;typeCode&#125;, #&#123;typeName&#125;, #&#123;typeDesc&#125;</span><br><span class="line">    )</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  //    根据父级id或者子级id删除分类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int removeProductType(Integer typeId);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;removeProductType&quot;</span>&gt;</span></span><br><span class="line">    delete from product_type where type_id=#&#123;typeId&#125; or parent_id=#&#123;typeId&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  //    修改分类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  public int updateProductType(ProductType productType);--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateProductType&quot;</span>&gt;</span></span><br><span class="line">      update product_type set</span><br><span class="line">      type_name = #&#123;typeName&#125;, type_desc = #&#123;typeDesc&#125;</span><br><span class="line">      where type_id = #&#123;typeId&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service类-5"><a href="#service类-5" class="headerlink" title="service类"></a>service类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//校验分类编码是否已存在</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryTypeByCode</span><span class="params">(String typeCode)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加商品分类</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">saveProductType</span><span class="params">(ProductType productType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//     根据父级id或者子级id删除分类</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteType</span><span class="params">(Integer typeId)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    修改分类</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">setProductType</span><span class="params">(ProductType productType)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//校验分类编码是否已存在</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">queryTypeByCode</span><span class="params">(String typeCode)</span> &#123;</span><br><span class="line">        <span class="comment">//根据分类编码查询商品分类</span></span><br><span class="line">        <span class="type">ProductType</span> <span class="variable">productType</span> <span class="operator">=</span> productTypeMapper.findTypeByCode(typeCode);</span><br><span class="line">        <span class="keyword">return</span> Result.ok(productType==<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加商品分类</span></span><br><span class="line">    <span class="meta">@CacheEvict(key = &quot;&#x27;all:typeTree&#x27;&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">saveProductType</span><span class="params">(ProductType productType)</span> &#123;</span><br><span class="line">        <span class="comment">//添加商品分类</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> productTypeMapper.insertProductType(productType);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;分类添加成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS, <span class="string">&quot;分类添加失败！&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//     根据父级id或者子级id删除分类</span></span><br><span class="line">    <span class="meta">@CacheEvict(key = &quot;&#x27;all:typeTree&#x27;&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteType</span><span class="params">(Integer typeId)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> productTypeMapper.removeProductType(typeId);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;分类删除成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS, <span class="string">&quot;分类删除失败！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    修改分类</span></span><br><span class="line">    <span class="meta">@CacheEvict(key = &quot;&#x27;all:typeTree&#x27;&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">setProductType</span><span class="params">(ProductType productType)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> productTypeMapper.updateProductType(productType);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.ok(<span class="string">&quot;分类修改成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.err(Result.CODE_ERR_BUSINESS, <span class="string">&quot;分类修改失败！&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制类-6"><a href="#控制类-6" class="headerlink" title="控制类"></a>控制类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    校验分类编码是否已存在</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/verify-type-code&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">checkTypeCode</span><span class="params">(String typeCode)</span>&#123;</span><br><span class="line">        <span class="comment">//执行业务</span></span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productTypeService.queryTypeByCode(typeCode);</span><br><span class="line">        <span class="comment">//响应</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//添加分类</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/type-add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addProductType</span><span class="params">(<span class="meta">@RequestBody</span> ProductType productType)</span>&#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productTypeService.saveProductType(productType);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    根据父级id或者子级id删除分类</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/type-delete/&#123;typeId&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteType</span><span class="params">(<span class="meta">@PathVariable</span> Integer typeId)</span>&#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productTypeService.deleteType(typeId);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    修改分类</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/type-update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">updateType</span><span class="params">(<span class="meta">@RequestBody</span> ProductType productType)</span>&#123;</span><br><span class="line">        <span class="type">Result</span> <span class="variable">result</span> <span class="operator">=</span> productTypeService.setProductType(productType);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id=""><a href="#" class="headerlink" title=""></a></h1>
</article>
    
    

</div>
<div class="trm-post-next-prev row">
    <div class="col-lg-12">
        <!-- title -->
        <h5 class="trm-title-with-divider">
            其他文章
            <span data-number="02"></span>
        </h5>
    </div>
    
    
        <div class="col-lg-6">
    <div class="trm-older-publications-card trm-scroll-animation trm-active-el">
        <div class="trm-older-publication">
            
            <a class="trm-op-top trm-anima-link" href="/2024/04/19/warehouse/">
                <span class="trm-op-cover">
                    <img alt="cover" class="no-fancybox" src="/img/block.jpg">
                </span>
                <h6 class="trm-op-title">动力恒合仓库项目1</h6>
            </a>
            <div class="trm-divider trm-mb-15 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>24/04/19</li>
                <li>22:36</li>
                <li>项目记录</li>
            </ul>
        </div>
    </div>
</div>
    
</div>

    



                    <div class="trm-divider footer-divider"></div>

                    <!-- footer -->
                    <footer class="trm-scroll-animation">

    

    

      

    
        <div class="trm-footer-item blog-run-long"></div>
     

     
</footer>
                    <!-- footer end -->

                </div>
            </div>
        </div>
    </div>
</div>
            <!-- body end -->

            

    <div id="post-toc" class="trm-post-toc">
      <div class="trm-post-toc-header">
        目录导航
				<span id="post-toc-top">
					置顶
				</span>
      </div>
      <div class="trm-post-toc-content">
        <ol class="trm-toc"><li class="trm-toc-item trm-toc-level-1" title="商品列表"><a rel="nofollow" class="trm-toc-link" href="#商品列表"><span class="trm-toc-number">1.</span> <span class="trm-toc-text">商品列表</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="实体类"><a rel="nofollow" class="trm-toc-link" href="#实体类"><span class="trm-toc-number">1.1.</span> <span class="trm-toc-text">实体类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="mapper类"><a rel="nofollow" class="trm-toc-link" href="#mapper类"><span class="trm-toc-number">1.2.</span> <span class="trm-toc-text">mapper类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类"><span class="trm-toc-number">1.3.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类"><span class="trm-toc-number">1.4.</span> <span class="trm-toc-text">控制类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="修改过滤器"><a rel="nofollow" class="trm-toc-link" href="#修改过滤器"><span class="trm-toc-number">1.5.</span> <span class="trm-toc-text">修改过滤器</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="查看商品类别"><a rel="nofollow" class="trm-toc-link" href="#查看商品类别"><span class="trm-toc-number">2.</span> <span class="trm-toc-text">查看商品类别</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="实体类"><a rel="nofollow" class="trm-toc-link" href="#实体类-1"><span class="trm-toc-number">2.1.</span> <span class="trm-toc-text">实体类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="mapper映射"><a rel="nofollow" class="trm-toc-link" href="#mapper映射"><span class="trm-toc-number">2.2.</span> <span class="trm-toc-text">mapper映射</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类-1"><span class="trm-toc-number">2.3.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-1"><span class="trm-toc-number">2.4.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="商品的图片上传"><a rel="nofollow" class="trm-toc-link" href="#商品的图片上传"><span class="trm-toc-number">3.</span> <span class="trm-toc-text">商品的图片上传</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-2"><span class="trm-toc-number">3.1.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="商品添加"><a rel="nofollow" class="trm-toc-link" href="#商品添加"><span class="trm-toc-number">4.</span> <span class="trm-toc-text">商品添加</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="mapper映射"><a rel="nofollow" class="trm-toc-link" href="#mapper映射-1"><span class="trm-toc-number">4.1.</span> <span class="trm-toc-text">mapper映射</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类-2"><span class="trm-toc-number">4.2.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-3"><span class="trm-toc-number">4.3.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="商品的修改"><a rel="nofollow" class="trm-toc-link" href="#商品的修改"><span class="trm-toc-number">5.</span> <span class="trm-toc-text">商品的修改</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="mapper映射"><a rel="nofollow" class="trm-toc-link" href="#mapper映射-2"><span class="trm-toc-number">5.1.</span> <span class="trm-toc-text">mapper映射</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类-3"><span class="trm-toc-number">5.2.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-4"><span class="trm-toc-number">5.3.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="采购"><a rel="nofollow" class="trm-toc-link" href="#采购"><span class="trm-toc-number">6.</span> <span class="trm-toc-text">采购</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="mapper映射"><a rel="nofollow" class="trm-toc-link" href="#mapper映射-3"><span class="trm-toc-number">6.1.</span> <span class="trm-toc-text">mapper映射</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类-4"><span class="trm-toc-number">6.2.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-5"><span class="trm-toc-number">6.3.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="商品分类-添加&#x2F;删除&#x2F;修改"><a rel="nofollow" class="trm-toc-link" href="#商品分类-添加-删除-修改"><span class="trm-toc-number">7.</span> <span class="trm-toc-text">商品分类-添加&#x2F;删除&#x2F;修改</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="mapper映射"><a rel="nofollow" class="trm-toc-link" href="#mapper映射-4"><span class="trm-toc-number">7.1.</span> <span class="trm-toc-text">mapper映射</span></a></li><li class="trm-toc-item trm-toc-level-2" title="service类"><a rel="nofollow" class="trm-toc-link" href="#service类-5"><span class="trm-toc-number">7.2.</span> <span class="trm-toc-text">service类</span></a></li><li class="trm-toc-item trm-toc-level-2" title="控制类"><a rel="nofollow" class="trm-toc-link" href="#控制类-6"><span class="trm-toc-number">7.3.</span> <span class="trm-toc-text">控制类</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title=""><a class="trm-toc-link"><span class="trm-toc-number">8.</span> <span class="trm-toc-text"></span></a></li></ol>
      </div>
    </div>

            
<div class="trm-fixed-container">
    
        <div class="trm-fixed-btn post-toc-btn" data-title="目录">
            <i class="iconfont fas fa-th-list"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="阅读模式" onclick="asyncFun.switchReadMode()">
            <i class="iconfont fas fa-book-reader"></i>
        </div>
    
    
    <div id="trm-back-top" class="trm-fixed-btn" data-title="回到顶部">
        <i class="iconfont fas fa-arrow-up"></i>
    </div>
</div>
        </div>
      </div>
      <!-- scroll container end -->
  </div>
  <!-- app wrapper end -->

  
    <div class="trm-search-popup">
        <div class="trm-search-wrapper">
            <div class="form trm-search-form">
                <div class="trm-search-input-icon">
                    <i class="iconfont fas fa-search"></i>
                </div>
                <input class="trm-search-input" type="text" placeholder="搜索文章...">
                <div class="trm-search-btn-close">
                    <i class="iconfont fas fa-times"></i>
                </div>
            </div>
            <div class="trm-search-result-container">
                <div class="trm-search-empty">
                    请输入关键词进行搜索
                </div>
            </div>
            <div class="trm-search-footer">
                <div class="trm-search-stats"></div>
                <ul class="trm-search-commands">
                    <li>
                        <kbd class="command-palette-commands-key">
                            <svg width="15" height="15" aria-label="Escape key" role="img">
                                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="1.2">
                                    <path
                                        d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956">
                                    </path>
                                </g>
                            </svg>
                        </kbd>
                        <span class="command-palette-Label">to close</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

  <!-- Plugin -->




    
    
<script src="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

    

    
        <script src="/js/plugins/typing.js?v=2.1.10"></script>
    

    
        
<script src="https://unpkg.com/hexo-generator-searchdb@1.4.0/dist/search.js"></script>

        <script src="/js/plugins/local_search.js?v=2.1.10"></script>
    

    <!-- 数学公式 -->
    

    <!-- 评论插件 -->
    
        

        
    



<!-- CDN -->


    

    

    




    <!-- Service Worker -->
    
    <!-- baidu push -->
    


<script id="async-script" src="/js/main.js?v=2.1.10"></script>

</body>

</html>